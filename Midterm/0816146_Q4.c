#include <stdio.h>

int main() {
    int A[20][20] = {{0}};
    scanf("%d %d", *A+15, *A+16);
    for (*A[15]=*(*A+15); *A[15]; --*A[15])
        for (*A[16]=*(*A+16); *A[16]; --*A[16]) {
            scanf("%d", *(A+*A[15])+*A[16]);
            **(A+*A[15]) += *(*(A+*A[15])+*A[16]);
            *(*A+*A[16]) += *(*(A+*A[15])+*A[16]);
        }

    for (*A[15]=*(*A+15); *A[15]; --*A[15])
        for (*A[16]=*(*A+16); *A[16]; --*A[16]) {
            if (**(A+*A[15]))
                **A = *(*A+*A[16])
                    ? '#' : '|';
            else
                **A = *(*A+*A[16])
                    ? '-' : '+';
            printf("%c%c", **A, *A[16]-1 ? ' ' : '\n');
        }
}
